<div class="row">
    <div class="container col-md-6">
        <div class="stepwizard">
            <div class="stepwizard-row setup-panel">
                <div class="stepwizard-step">
                    <a href="#step-1" type="button" class="btn btn-primary btn-circle">1</a>
                    <p>Step 1</p>
                </div>
                <div class="stepwizard-step">
                    <a href="#step-2" type="button" class="btn btn-default btn-circle disabled" >2</a>
                    <p>Step 2</p>
                </div>
                <div class="stepwizard-step">
                    <a href="#step-3" type="button" class="btn btn-default btn-circle disabled">3</a>
                    <p>Step 3</p>
                </div>
            </div>
        </div>


        <%= nested_form_for annonce do |f| %>
        <% if annonce.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(annonce.errors.count, "error") %> prohibited this annonce from being saved:</h2>

          <ul>
            <% annonce.errors.full_messages.each do |message| %>
            <li><%= message %></li>
            <% end %>
        </ul>
    </div>
    <% end %>
    <div class="row setup-content" id="step-1">
        <div class="col-xs-12">
            <div class="col-md-12">
                <h3> Step 1</h3>
                <div class="form-group">
                    <%= f.label :name %>
                    <%= f.text_field :name, hide_label: true, class: "form-control",required: "required", validate: true %>
                </div>
                <div class="form-group">
                  <% if annonce.avatar.url.present? %>
                  <%= image_tag(annonce.avatar.url.to_s) %>
                  <%= f.label :remove_avatar do %>
                  <%= f.check_box :remove_avatar %>
                  <% end %>
                  <% end %>
                  <%= f.file_field :avatar %>
                  <%= f.hidden_field :avatar_cache %>
              </div>
              <div class="form-group">
                <%= f.label :experience %>
                <%= f.date_field :experience,hide_label: true %>
            </div>

            <% if @type == "Annonce" %>
            <div class="form-group">
                <%= f.label :type %><br>
                <%= f.select :type, Annonce.types.map {|r| [r.humanize, r.camelcase]}, {}, disabled: @type != "Annonce" %> 
            </div>
            <% else %>
            <%= f.hidden_field :type, value: @type %>
            <% end %>

            <% if @type == "Group" %>
            <div class="form-group">
                <%= f.label :style %>
                <%= f.text_field :style, hide_label: true %>
            </div>
            <% end %>
            <button class="btn btn-primary nextBtn btn-lg pull-right" type="button" >Next</button>
        </div>
    </div>
</div>
<div class="row setup-content" id="step-2">
    <div class="col-xs-12">
        <div class="col-md-12">
            <h3> Step 2</h3>
            <div class="form-group">
                <%= f.label :description %>
                <%= f.text_area :description,hide_label: true, size: "60x12" %>
            </div>
            <div class="form-group">

                <h3>Membres: </h3>
                <ul id="membres">
                    <%= f.fields_for :membres do |membres_form| %>
                    <li>
                      <%= membres_form.label :nom %>
                      <%= membres_form.text_field :nom,hide_label: true, validate: true%>

                      <%= membres_form.label :instrument %>
                      <%= membres_form.text_field :instrument,hide_label: true, validate: true %>
                      <%= membres_form.link_to_remove I18n.t('button.destroy'), validate: false, :class =>"btn btn-danger" %>
                  </li>
                  <% end %>
                  <p><%= f.link_to_add I18n.t('button.add'), :membres, :data => { :target => "#membres" }, validate: false %></p>
              </ul>
          </div>
          <button class="btn btn-primary backBtn btn-lg pull-left" type="button" >Back</button>

          <button class="btn btn-primary nextBtn btn-lg pull-right" type="button" >Next</button>
      </div>
  </div>
</div>
<div class="row setup-content" id="step-3">
    <div class="col-xs-12">
        <div class="col-md-12">
            <h3> Step 3</h3>
            <button class="btn btn-success btn-lg pull-right" type="submit">Finish!</button>
        </div>
    </div>
</div>
<% end %>
</div>
</div>
